-- AniVerse 가데이터 (Seed Data)
-- 테스트용 리뷰, 찜하기 데이터
-- 
-- 주의: 이 스크립트는 기존에 생성된 사용자(auth.users)가 있다고 가정합니다.
-- 먼저 Supabase Dashboard에서 수동으로 사용자를 생성하거나,
-- 앱에서 회원가입을 통해 사용자를 생성한 후 이 스크립트를 실행하세요.
--
-- 또는 아래 주석 처리된 부분의 사용자 ID를 실제 사용자 ID로 변경하여 사용하세요.

-- 사용자 프로필 생성
-- 기존 사용자가 있다면 해당 사용자 ID를 사용하고,
-- 없다면 먼저 앱에서 회원가입을 통해 사용자를 생성하세요.
-- 
-- 아래는 예시입니다. 실제 사용자 ID로 변경하거나,
-- 기존 사용자의 프로필을 업데이트하세요.

-- 예시: 기존 사용자 프로필 업데이트 (사용자 ID를 실제 ID로 변경)
-- INSERT INTO public.user_profiles (id, username, display_name, bio, avatar_url)
-- SELECT 
--   id,
--   'anime_lover',
--   '애니메이션 애호가',
--   '애니메이션을 사랑하는 사람입니다. 다양한 작품을 감상하고 리뷰를 작성합니다.',
--   NULL
-- FROM auth.users
-- WHERE email = 'your-email@example.com'
-- ON CONFLICT (id) DO UPDATE
-- SET
--   username = EXCLUDED.username,
--   display_name = EXCLUDED.display_name,
--   bio = EXCLUDED.bio,
--   avatar_url = EXCLUDED.avatar_url;

-- 3. 리뷰 생성 (인기 애니메이션 ID 사용)
-- Attack on Titan (1396), One Piece (37854), Demon Slayer (85937), Jujutsu Kaisen (95479), Spy x Family (120089)
INSERT INTO public.reviews (user_id, anime_id, rating, title, content)
VALUES
  (
    '00000000-0000-0000-0000-000000000001',
    1396, -- Attack on Titan
    9,
    '진정한 걸작',
    '공격거인은 단순한 액션 애니메이션이 아닙니다. 깊이 있는 스토리와 캐릭터 개발, 그리고 예상치 못한 전개가 매회를 기대하게 만듭니다. 특히 세계관 설정이 탁월하고, 인간의 본성에 대한 철학적 질문을 던집니다. 액션씬도 매우 역동적이고, 음악도 뛰어납니다. 애니메이션 팬이라면 반드시 봐야 할 작품입니다.'
  ),
  (
    '00000000-0000-0000-0000-000000000001',
    37854, -- One Piece
    10,
    '최고의 모험',
    '원피스는 단순한 모험담이 아닙니다. 우정, 꿈, 자유에 대한 이야기입니다. 20년이 넘는 연재 기간 동안 쌓아온 스토리는 정말 압도적입니다. 각 캐릭터의 성장과 배경 스토리가 감동적이고, 세계관도 매우 방대합니다. 웃음과 눈물이 공존하는 진정한 걸작입니다.'
  ),
  (
    '00000000-0000-0000-0000-000000000002',
    85937, -- Demon Slayer
    8,
    '시각적 쾌감',
    '귀멸의 칼날은 애니메이션 퀄리티가 정말 뛰어납니다. 특히 전투씬의 연출이 압도적이고, 색감과 작화가 매우 아름답습니다. 스토리도 탄탄하고, 캐릭터들의 매력이 뛰어납니다. 다만 후반부 전개가 다소 급하게 느껴질 수 있지만, 전체적으로는 매우 만족스러운 작품입니다.'
  ),
  (
    '00000000-0000-0000-0000-000000000002',
    95479, -- Jujutsu Kaisen
    9,
    '현대 판타지의 정수',
    '주술회전은 현대 배경의 판타지 작품으로서 매우 잘 만들어진 작품입니다. 주술 시스템이 체계적이고, 캐릭터들의 개성이 뚜렷합니다. 특히 전투씬의 연출이 매우 역동적이고, 스토리 전개도 긴장감 넘칩니다. 애니메이션 퀄리티도 뛰어나서 시각적 즐거움을 제공합니다.'
  ),
  (
    '00000000-0000-0000-0000-000000000003',
    120089, -- Spy x Family
    9,
    '가족의 소중함',
    '스파이 패밀리는 액션, 코미디, 감동이 완벽하게 조화를 이룬 작품입니다. 로이드, 요르, 아니아의 가족 이야기가 매우 따뜻하고, 각 에피소드마다 웃음과 감동을 선사합니다. 특히 아니아의 귀여움이 압권이고, 가족의 의미에 대해 생각해보게 만드는 작품입니다.'
  ),
  (
    '00000000-0000-0000-0000-000000000003',
    1396, -- Attack on Titan
    8,
    '복잡한 스토리',
    '공격거인은 처음에는 단순한 액션물로 보이지만, 점점 더 복잡하고 깊이 있는 스토리로 발전합니다. 정치적 요소와 인간의 본성에 대한 탐구가 인상적입니다. 다만 후반부 전개가 다소 어둡고 복잡해서 모든 사람이 좋아할 수는 없을 것 같습니다.'
  )
ON CONFLICT (user_id, anime_id) DO NOTHING;

-- 4. 찜하기 생성
INSERT INTO public.favorites (user_id, anime_id)
VALUES
  ('00000000-0000-0000-0000-000000000001', 1396),   -- Attack on Titan
  ('00000000-0000-0000-0000-000000000001', 37854), -- One Piece
  ('00000000-0000-0000-0000-000000000001', 85937), -- Demon Slayer
  ('00000000-0000-0000-0000-000000000001', 95479), -- Jujutsu Kaisen
  ('00000000-0000-0000-0000-000000000002', 85937), -- Demon Slayer
  ('00000000-0000-0000-0000-000000000002', 95479), -- Jujutsu Kaisen
  ('00000000-0000-0000-0000-000000000002', 120089), -- Spy x Family
  ('00000000-0000-0000-0000-000000000003', 120089), -- Spy x Family
  ('00000000-0000-0000-0000-000000000003', 1396),   -- Attack on Titan
  ('00000000-0000-0000-0000-000000000003', 37854)  -- One Piece
ON CONFLICT (user_id, anime_id) DO NOTHING;

